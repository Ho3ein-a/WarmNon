const db = require("../../util/database"); class User { constructor() { } userInformation(user_id){
    return db.execute('select * from user where user_id = ? ', [user_id])
} userSignIn(e, r, d, t, a, o) { return db.execute("insert into user(user_id, password, phone, name, date_of_membership, dormitory_id) values(?,?,?,?,?,?)", [e, r, d, t, a, o]) } userIdList() { return db.execute("select user_id from user") } userOrders(e) { return db.execute("select order_id, bread_name, `order`.date, time, number, total_price, bread.type as type, `order`.type as order_type from `order` join bread on user_id = ? and `order`.bread_id = bread.bread_id where delivered = 1 and cancel =0 ", [e]) } userNotCompletedOrders(e) { return db.execute("select order_id, bread_name, `order`.date, time, number, total_price, bread.type as type, `order`.type as order_type from `order` join bread on user_id = ? and `order`.bread_id = bread.bread_id where delivered = '' or delivered is null and pay = 1 and cancel = 0", [e]) } commentsId() { return db.execute("select comment_Id from user_comment") } userCart(e) { return db.execute("select order_id, user_id, `order`.bread_id, `order`.date, time, number, total_price, `order`.type as type, bread_name, bread.type as bread_type from `order` join bread On `order`.bread_id = bread.bread_id where user_id = ? and delivered = '' or delivered is null ", [e]) } updateOrderToExpress(e, r, d) { return db.execute("update `order` set type  = ? and total_price = ? where order_id =? ", [r, d, e]) } addToCart(e, r, d, t, a, o, n, i, s, u) { return db.execute("insert into `order`(user_id, bread_id, date, time, number, total_price, delivered, type, cancel, pay) values(?,?,?,?,?,?,?,?,?,?)", [e, r, d, t, a, o, n, i, s, u]) } addComment(e, r, d) { return db.execute("insert into comment(comment_id, comment, score) values(?,?,?)", [e, r, d]) } addUserComment(e, r, d, t) { return db.execute("insert into user_comment(comment_id, user_id, bread_id, date) values(?,?,?,?)", [e, r, d, t]) } deleteOrder(e) { return db.execute("delete from `order`  where order_id = ?", [e]) } updateCart(e) { return db.execute("update `order` set cancel = 1 and order_id = ? ", [e]) } } module.exports = User;