<!DOCTYPE html><html lang="fa"><head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>ارسال نظر</title> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> <style> @font-face { font-family: iransans; src: url('/font//IRANSansXFaNum-Medium.woff'); } * { font-family: iransans; } body { background-color: #EDA96C; color: #FFFFFF; font-family: sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; padding: 20px; } .container { background-color:white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); width: 100%; max-width: 600px; color: black !important; } h1 { color: black; font-weight: bold; text-align: center; margin-bottom: 20px; } .form-select, .form-control { background-color: #FFFFFF; color: #000000; border: 1px solid rgba(44, 75, 44, 0.8); margin-top: 15px; } .form-select:focus, .form-control:focus { border-color: rgba(44, 75, 44, 1); box-shadow: 0 0 4px rgba(44, 75, 44, 0.5); } .btn-submit { background-color: rgba(44, 75, 44, 1); color: #FFFFFF; width: 100%; padding: 10px; font-weight: bold; margin-top: 20px; transition: transform 0.3s ease, background-color 0.3s ease; } .btn-submit:hover { background-color: rgba(44, 75, 44, 1); color: #FFFFFF; transform: translateY(-3px); } .star-rating { display: flex; flex-direction: row-reverse; justify-content: center; } .star-rating input[type="radio"] { display: none; } .star-rating label { font-size: 30px; color: #48A755; cursor: pointer; transition: transform 0.2s; } .star-rating label:hover, .star-rating label:hover~label, .star-rating input[type="radio"]:checked~label { color: #FFD700; transform: scale(1.2); } </style></head><body dir="rtl"> <div class="row"> <% if (message) { %> <div class="alert alert-<%= message.type %>"> <%= message.text %> </div> <% } %> </div> <div class="container"> <h1>ارسال نظر</h1> <form action="/comment" method="post"> <div class="mb-3"> <label for="bread_name" class="form-label">انتخاب نان:</label> <select name="bread_name" id="bread_name" class="form-select" required onchange="updateBreadId()"> <option value="0">انتخاب کنید</option> <% const breadIdsByName={}; breads.forEach(item=> {%> if (!breadIdsByName[item.bread_name]) { breadIdsByName[item.bread_name] = item.bread_id; } <%});%> <% breads.forEach(item=> { %> <option value="<%= item.bread_name %>" data-id="<%= breadIdsByName[item.bread_name] %>"> <%= item.bread_name %> - <%= item.type %> </option> <% }); %> </select> </div> <input type="hidden" name="bread_id" id="bread_id" value=""> <input type="hidden" name="_csrf" value="<%= csrfToken %>"> <div class="mb-3"> <label for="comment" class="form-label">متن نظر:</label> <textarea name="comment" id="comment" class="form-control" rows="4" placeholder="نظر خود را اینجا بنویسید..." required></textarea> </div> <div class="mb-3"> <label class="form-label">امتیاز دادن به نان:</label> <div class="star-rating"> <% for (let i=5; i>= 1; i--) { %> <input type="radio" id="star<%= i %>" name="rating" value="<%= i %>" required> <label for="star<%= i %>" title="<%= i %> ستاره"> ★ </label> <% } %> </div> <button type="submit" class="btn btn-submit">ارسال نظر</button> </form> </div> <script>updateBreadId() { const breadSelect = document.getElementById('bread_name'); const selectedOption = breadSelect.options[breadSelect.selectedIndex]; const breadId = selectedOption.getAttribute('data-id'); document.getElementById('bread_id').value = breadId; } </script></body></html>